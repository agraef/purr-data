#N canvas 274 156 535 891 12;
#X obj 29 123 inlet;
#X obj 29 825 outlet;
#X obj 29 249 v counter;
#X obj 29 154 route float;
#X msg 111 178 1;
#X obj 29 215 t b f;
#X obj 113 249 +;
#X text 102 658 min;
#X text 177 657 max;
#N canvas 0 0 462 312 frnd 0;
#X obj 44 21 inlet;
#X obj 43 80 random 1e+006;
#X obj 44 106 / 1e+006;
#X obj 44 139 *;
#X obj 44 53 t b f;
#X obj 43 171 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 3 1;
#X restore 29 496 pd frnd;
#X obj 29 380 v counter;
#X obj 29 796 spigot;
#X obj 72 657 >=;
#X obj 145 658 <;
#X obj 72 686 &&;
#X obj 91 741 v run;
#X obj 72 765 &&;
#X obj 72 711 t f b;
#X msg 110 380 0;
#X obj 29 276 t b f b;
#X obj 29 407 route 0;
#X obj 29 435 t f b;
#X obj 29 618 t b f f;
#X text 36 457 only one object will get a number here (max range);
#X text 91 524 send to all objects;
#X text 91 498 random float [0 \, input);
#X text 153 254 sum up all input numbers;
#X text 153 169 number inlet (bang translates to 1);
#X text 32 17 several instances of this abstraction can be connected
to one outlet \, but only one randomly selected will trigger a bang
at the outlet - the instances can also be weighted by the numbers at
the inlet;
#X obj 29 328 delay 0;
#X text 31 83 (counter and toall are reserved symbols used here);
#X obj 29 523 s toall;
#X obj 29 565 r toall;
#X text 100 327 wait until all inlets have been triggered;
#X obj 29 592 spigot;
#X msg 125 592 1;
#X msg 92 592 0;
#X text 169 595 sort out the objects that got the relay;
#X text 224 655 sort out the one object which for which the random
number falls into the range;
#X text 142 754 take care of the global switch;
#X connect 0 0 3 0;
#X connect 2 0 6 0;
#X connect 2 0 19 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 5 1 6 1;
#X connect 6 0 2 0;
#X connect 6 0 13 1;
#X connect 9 0 31 0;
#X connect 10 0 20 0;
#X connect 11 0 1 0;
#X connect 12 0 14 0;
#X connect 13 0 14 1;
#X connect 14 0 17 0;
#X connect 15 0 16 1;
#X connect 16 0 11 1;
#X connect 17 0 16 0;
#X connect 17 1 15 0;
#X connect 18 0 10 0;
#X connect 19 0 29 0;
#X connect 19 1 12 1;
#X connect 19 2 35 0;
#X connect 20 1 21 0;
#X connect 21 0 9 0;
#X connect 21 1 18 0;
#X connect 22 0 11 0;
#X connect 22 1 12 0;
#X connect 22 2 13 0;
#X connect 29 0 10 0;
#X connect 32 0 34 0;
#X connect 34 0 22 0;
#X connect 34 0 36 0;
#X connect 35 0 34 1;
#X connect 36 0 34 1;
